<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <link rel='manifest' href='./manifest.json'>
    <link rel="icon" href="/teleprompter/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/teleprompter/apple-touch-icon.png">
    <meta charset="UTF-8">
    <title>簡易提詞器</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- iOS 状态栏背景颜色 -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Android 状态栏背景颜色 -->
    <meta name="theme-color" content="#000000">
<!-- 引入字体 -->
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500&family=Noto+Serif+TC&display=swap" rel="stylesheet">

<style>
/* 基本字体设置 */
body {
  font-family: 'Noto Sans TC', 'PingFang TC', 'Microsoft JhengHei', 'Heiti TC', 'WenQuanYi Micro Hei', sans-serif;
}

/* 衬线字体设置 */
.serif {
  font-family: 'Noto Serif TC', 'Songti TC', 'PMingLiU', 'Times New Roman', serif;
}

/* 楷体字体设置 */
.kai {
  font-family: 'BiauKai', 'STKaiti', 'KaiTi', 'DFKai-SB', 'Kai', 'KaiTi TC', 'Noto Serif TC', serif;
}
    body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: Arial, sans-serif;
        background-color: #000000; /* 设置全局背景色 */
    }

        #controls {
            padding: 10px;
            background-color: #f0f0f0;
        }

        #controls label {
            display: block;
            margin-top: 10px;
            font-size: 14px;
            color: #333;
        }

        #controls input, #controls select, #controls button, #controls textarea {
            width: 100%;
            margin-top: 5px;
            padding: 8px;
            font-size: 14px;
        }

        #inputText {
            height: 150px;
            resize: vertical;
            width: 100%;
            padding: 10px;
            font-size: 16px;
            box-sizing: border-box;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        #fontSettings {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        #fontSettings label {
            margin: 0;
        }

        #controls input[type="color"] {
            width: 50px;
            height: 30px;
            padding: 0;
            margin-right: 5px;
        }

        #controls input[type="number"] {
            width: 80px;
            padding: 5px;
        }

        #controls select {
            width: auto;
            padding: 5px;
        }

        #controls button {
            padding: 10px;
            font-size: 16px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #controls button:hover {
            background-color: #0056b3;
        }

        #mirror {
            display: none;
        }

        /* 按鈕未選中時的樣式 */
        #controls label[for="mirror"] {
            display: inline-block;
            padding: 10px 20px;
            background-color: #ccc;
            color: #000;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            text-align: center;
        }

#mirror:checked + label {
    background-color: #28a745; /* 綠色 */
    color: #fff; /* 白色 */
}

#openModalBtn {
    display: inline-block; /* 保持按鈕為內聯塊，防止自適應寬度 */
    padding: 10px 20px; /* 調整 padding 以使按鈕大小適中 */
    background-color: #ccc;
    color: #000;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    text-align: center;
    border: none;
    font-size: 14px;
    width: auto; /* 讓寬度根據內容調整 */
    max-width: 80px; /* 設置最大寬度，避免按鈕過寬 */
}

#openModalBtn:hover {
    background-color: #28a745;
    color: #fff;
}

#lineSettings {
    align-items: center;
    gap: 10px; /* 控制項目之間的間距 */
}


#display {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background-color: #000;
    color: #fff;
    font-size: 50px;
    display: none;
    justify-content: flex-start;
    align-items: flex-start;
}

        #display.mirror {
            transform: scaleX(-1);
        }

#textContainer {
    width: 100%;
    display: block;
}

#text {
    width: 100%; /* 確保文字容器占滿寬度 */
    text-align: center; /* 將文字居中顯示 */
    white-space: pre-wrap;
    line-height: 1.5;
    direction: ltr;
}

        #lineThicknessOptions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .lineOption {
            width: 40px;
            height: 20px;
            background-color: red;
            cursor: pointer;
            border-radius: 5px;
        }

        .lineOption[data-width="1"] { height: 1px; }
        .lineOption[data-width="2"] { height: 2px; }
        .lineOption[data-width="3"] { height: 3px; }
        .lineOption[data-width="4"] { height: 4px; }
        .lineOption[data-width="5"] { height: 5px; }
        .lineOption[data-width="6"] { height: 6px; }
        .lineOption[data-width="7"] { height: 7px; }

        .lineOption.selected {
            border: 2px solid blue;
        }

        #controlButtons {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: none;
            gap: 20px;
        }

        #controlButtons button {
            padding: 10px 20px;
            font-size: 16px;
        }
#speedSetting {
    display: inline-flex;
    align-items: center;
    gap: 5px; /* 控制文字和輸入框之間的距離 */
}

#referenceLine {
    position: absolute;
    top: 50%; /* 固定在畫面中間 */
    left: 0;
    width: 100%;
    border-top: 2px solid red; /* 確保這裡有適當的 border 設置 */
    pointer-events: none; /* 防止參考線阻擋點擊事件 */
}

.modal {
  display: none;
  position: fixed;
  z-index: 1;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
}

.modal-content {
  background-color: #fefefe;
  margin: 15% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
  max-width: 600px;
  border-radius: 10px;
  overflow-y: auto; /* 启用垂直滚动条 */
  max-height: 80vh; /* 限制对话框高度，确保在小屏幕上可见 */
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}

    </style>
</head>
<body>
<div id="controls">
<h1 style="text-align: center; font-size: 36px; font-weight: bold; 
    background-color: #800000; /* 設置背景色 */
    color: #F5F5DC;              /* 設置文字顏色 */
    padding: 20px;             /* 增加內部間距 */
    margin: 20px 0;            /* 增加外部間距 */
    border-radius: 10px;       /* 設置圓角效果 */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* 添加陰影效果 */
">
    簡易提詞器
</h1>
<p style="text-align: center;">
    ver.2024/09/18 <!-- 說明文件按鈕 -->
<input type="button" id="openModalBtn" value="說明文件"><br>
程式維護：<a href="https://www.facebook.com/profile.php?id=61557246475372" target="_blank">仨寶爸中醫博士吳啓銘</a>
</p>


<textarea id="inputText" placeholder="在文本框中輸入要滾動的文字，點擊「開始滾動」按鈕即可開始顯示提詞。" oninput="this.placeholder = ''"></textarea>

<div id="controls">
<button id="startBtn">開始滾動</button>

<label for="fontFamily">選擇字體：
    <select id="fontFamily">
        <option value="'Noto Sans TC', 'PingFang TC', 'Microsoft JhengHei', 'Heiti TC', 'WenQuanYi Micro Hei', sans-serif">黑體字</option>
        <option value="'Noto Serif TC', 'Songti TC', 'PMingLiU', 'Times New Roman', serif">宋體字</option>
        <option value="'BiauKai', 'STKaiti', 'KaiTi', 'DFKai-SB', 'Kai', 'KaiTi TC', 'Noto Serif TC', serif">楷體字</option>
        <option value="Arial, sans-serif">Arial</option>
        <option value="'Times New Roman', serif">Times New Roman</option>
        <option value="'Courier New', monospace">Courier New</option>
    </select> 

   <input type="checkbox" id="mirror">
    <label for="mirror">鏡像文字</label>

    <label for="fontSize">字體大小：
    <input type="number" id="fontSize" value="40" min="10" max="100"> px</label>

    <label for="speed">滾動速度：
    <input type="number" id="speed" value="30" min="10" max="100"> px/s</label>
</div>

<div id="lineSettings">
    <label for="fontColor">字體顏色：
    <input type="color" id="fontColor" value="#FFFFFF"></label>

    <label for="bgColor">背景顏色：
    <input type="color" id="bgColor" value="#000000"></label>

    <label for="refLineColor">參考線顏色：
    <input type="color" id="refLineColor" value="#FF0000"></label>
    <label for="refLineWidth">參考線粗細：
    <select id="refLineWidth">
        <option value="1">1px</option>
        <option value="2">2px</option>
        <option value="3" selected>3px</option> <!-- 設置預設值為 3px -->        
        <option value="4">4px</option>
        <option value="5">5px</option>
        <option value="6">6px</option>
        <option value="7">7px</option>
    </select></label>

</div>


<!-- 說明文件對話框 -->
<div id="myModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>說明文件</h2>
    <p>這裡是提詞機的使用說明</p>
        <ul>
            <li><strong>文字輸入：</strong>在文本框中輸入你想要提詞顯示的文字。</li>
            <li><strong>設定：</strong>可改變字體、大小、背景顏色、參考線顏色粗細等。</li>
            <li><strong>螢幕操作：</strong>按下「開始滾動」按鈕後進入全螢幕模式。</li>
            <li><strong>鏡像：</strong>如使用反射式提詞機，按下鏡像可以讓文字左右相反。</li>
            <li><strong>鍵盤操作：</strong>使用空白鍵暫停/繼續，方向鍵上下左右控制文字位置速度，ESC返回。</li>
            <li><strong>藍芽搖桿操作：</strong>連接藍芽遊戲搖桿，方向鍵上下左右控制文字位置速度，A鍵暫停/繼續，B鍵返回。</li>
        </ul>
  </div>
</div>


</div>

<div id="display">
    <div id="textContainer">
        <div id="text"></div>
    </div>
    <div id="referenceLine"></div>
</div>
<!-- 倒數計時 -->
<div id="countdown" style="display: none; text-align: center; font-size: 180px; color: #FFA500; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);">
    3
</div>

<div id="controlButtons">
    <button id="pauseBtn">暫停</button>
    <button id="exitBtn">退出全屏</button>
</div>
<script>
var _0x2b371e=_0x4b0e;function _0x4b0e(_0xcf159c,_0x367143){var _0xccb410=_0xccb4();return _0x4b0e=function(_0x4b0e1c,_0x1bf993){_0x4b0e1c=_0x4b0e1c-0x18d;var _0x252f6e=_0xccb410[_0x4b0e1c];return _0x252f6e;},_0x4b0e(_0xcf159c,_0x367143);}function _0xccb4(){var _0x45e97d=['2347560tlDviS','toString','321704ooBAoV','42116HCDKnH','||document|style|getElementById||display|text|isPaused|currentTranslateY|addEventListener|pauseBtn|const|function||transform|isDragging|currentSpeed|lastTimestamp|px|textContent|translateY|none||value|console|log||mirror||countdown|countdownInterval|if|case|animationFrame|exitFullScreen|window|performance|now|break|modal|fontFamily|fontSize|textContainer|referenceLine|controlButtons|let|scrollText|return|requestAnimationFrame|clientY|click|classList|inputText|bgColor|fontColor|speed|refLineColor|refLineWidth|startBtn|exitBtn|dragStartY||dragStartTranslateY|offsetHeight|onDragStart|onDragMove|onDragEnd|block|innerText|currentGamepad|onclick|startPosition|1e3|mousedown|type|touches|getComputedStyle|new|DOMMatrixReadOnly|m42|body|userSelect|mousemove|enterFullScreen|requestFullscreen|mozRequestFullScreen|webkitRequestFullscreen|msRequestFullscreen|exitFullscreen|mozCancelFullScreen|webkitExitFullscreen|msExitFullscreen|controls|cancelAnimationFrame|clearInterval|null|flex|add|remove|Math|max|Gamepad|gamepad|checkGamepadInput|axes|buttons|pressed|btn|span|void|preventDefault|auto|documentElement|color|backgroundColor|borderTopColor|borderTopWidth|setInterval|checked|0px|parseInt|setTimeout|100|mouseup|touchstart|touchmove|touchend|keydown|switch|code|Space|ArrowUp|ArrowDown|ArrowLeft|ArrowRight|Escape|gamepadconnected|connected|gamepaddisconnected|disconnected|navigator|getGamepads|index|var|myModal|openModalBtn|getElementsByClassName|close|target','c\x20R=2.4(\x22R\x22),F=2.4(\x22F\x22),S=2.4(\x22S\x22),T=2.4(\x22T\x22),G=2.4(\x22G\x22),U=2.4(\x22U\x22),s=2.4(\x22s\x22),V=2.4(\x22V\x22),W=2.4(\x22W\x22),X=2.4(\x22X\x22),6=2.4(\x226\x22),H=2.4(\x22H\x22),7=2.4(\x227\x22),I=2.4(\x22I\x22),b=2.4(\x22b\x22),Y=2.4(\x22Y\x22),J=2.4(\x22J\x22);K\x20y,8=!1,g=!1,Z=0,11=0,h,1a,9,i;c\x20u=2.4(\x22u\x22);K\x20v;d\x20L(e){w(8||g)M\x20i=e,1M(y=N(L));c\x20t=e-i;i=e;c\x20n=t*h/1b;9-=n,7.3.f=`l(${9}j)`,9+7.12>0?y=N(L):z()}d\x2013(e){w(!8)M;g=!0,Z=\x221c\x22===e.1d?e.O:e.1e[0].O;c\x20t=A.1f(7),n=1g\x201h(t.f);11=n.1i,e.1N(),2.1j.3.1k=\x22m\x22}d\x2014(e){w(!g)M;c\x20t=\x221l\x22===e.1d?e.O:e.1e[0].O,n=t-Z,r=11+n;7.3.f=`l(${r}j)`}d\x2015(e){w(!g)M;g=!1;c\x20t=A.1f(7),n=1g\x201h(t.f);9=n.1i,2.1j.3.1k=\x221O\x22}d\x201m(){c\x20e=2.1P;e.1n?e.1n():e.1o?e.1o():e.1p?e.1p():e.1q&&e.1q()}d\x20z(){2.1r?2.1r():2.1s?2.1s():2.1t?2.1t():2.1u&&2.1u(),6.3.6=\x22m\x22,J.3.6=\x22m\x22,2.4(\x221v\x22).3.6=\x2216\x22,1w(y),v&&(1x(v),v=1y),u.3.6=\x22m\x22,8=!1,g=!1,b.k=\x22暂停\x22}X.a(\x22P\x22,()=>{6.3.6=\x221z\x22,J.3.6=\x221z\x22,2.4(\x221v\x22).3.6=\x22m\x22,1m(),7.3.F=F.o,7.3.G=G.o+\x22j\x22,7.3.1Q=T.o,7.17=R.o,6.3.1R=S.o,I.3.1S=V.o,I.3.1T=`${W.o}j`,u.3.6=\x2216\x22;K\x20e=5;u.17=e,v=1U(()=>{e-=1,u.17=e,0===e&&(1x(v),u.3.6=\x22m\x22,s.1V?(6.Q.1A(\x22s\x22),H.Q.1A(\x22s\x22)):(6.Q.1B(\x22s\x22),H.Q.1B(\x22s\x22)),7.3.f=\x22l(1W)\x22,7.12,8=!1,g=!1,h=1X(U.o),1Y(()=>{c\x20e=6.12,t=.5*e;9=1a=t,7.3.f=`l(${9}j)`,i=B.C(),N(L)},1Z))},1b)}),b.a(\x22P\x22,()=>{8?(8=!1,b.k=\x22暫停\x22,i=B.C()):(8=!0,b.k=\x22繼續\x22)}),Y.a(\x22P\x22,()=>{1w(y),z()}),6.a(\x22P\x22,()=>{g||(8?(8=!1,b.k=\x22暫停\x22,i=B.C()):(8=!0,b.k=\x22繼續\x22))}),7.a(\x221c\x22,13),2.a(\x221l\x22,14),2.a(\x2220\x22,15),7.a(\x2221\x22,13),2.a(\x2222\x22,14),2.a(\x2223\x22,15),2.a(\x2224\x22,e=>{25(e.26){x\x2227\x22:8?(8=!1,b.k=\x22暫停\x22,i=B.C()):(8=!0,b.k=\x22繼續\x22);D;x\x2228\x22:9+=10,7.3.f=`l(${9}j)`;D;x\x2229\x22:9-=10,7.3.f=`l(${9}j)`;D;x\x222a\x22:p.q(\x22當前滾動速度：\x22,h=1C.1D(h-10,10));D;x\x222b\x22:p.q(\x22當前滾動速度：\x22,h+=10);D;x\x222c\x22:z()}}),A.a(\x222d\x22,e=>{p.q(\x221E\x202e:\x22,e.1F)}),A.a(\x222f\x22,e=>{p.q(\x221E\x202g:\x22,e.1F)});K\x2018=1y;d\x201G(){w(18){c\x20e=2h.2i(),t=e[18.2j];w(t){c\x20e=t.1H[1],n=t.1H[0];e<-.5?(9+=10,7.3.f=`l(${9}j)`,p.q(\x22搖桿向上，當前位置：\x22,9)):e>.5&&(9-=10,7.3.f=`l(${9}j)`,p.q(\x22搖桿向下，當前位置：\x22,9)),n<-.5?p.q(\x22滾動速度減少，當前速度：\x22,h=1C.1D(h-10,10)):n>.5&&p.q(\x22滾動速度增加，當前速度：\x22,h+=10),t.1I[0].1J&&(8?(8=!1,b.k=\x22暫停\x22,i=B.C()):(8=!0,b.k=\x22繼續\x22)),t.1I[1].1J&&z()}}N(1G)}2k\x20E=2.4(\x222l\x22),1K=2.4(\x222m\x22),1L=2.2n(\x222o\x22)[0];1K.19=d(){E.3.6=\x2216\x22},1L.19=d(){E.3.6=\x22m\x22},A.19=d(e){e.2p==E&&(E.3.6=\x22m\x22)};','465066wBtrdh','77965bXvjMg','\x5cw+','3sSmeAH','35UttJVT','584572XgSDhA','split','replace','fromCharCode','273841QaZzzh'];_0xccb4=function(){return _0x45e97d;};return _0xccb4();}(function(_0x28bbac,_0x3b0c53){var _0x2c0ebf=_0x4b0e,_0x23adc4=_0x28bbac();while(!![]){try{var _0x4d7d2d=-parseInt(_0x2c0ebf(0x198))/0x1+-parseInt(_0x2c0ebf(0x19c))/0x2*(-parseInt(_0x2c0ebf(0x192))/0x3)+-parseInt(_0x2c0ebf(0x194))/0x4+parseInt(_0x2c0ebf(0x190))/0x5+parseInt(_0x2c0ebf(0x18f))/0x6+parseInt(_0x2c0ebf(0x193))/0x7*(parseInt(_0x2c0ebf(0x19b))/0x8)+parseInt(_0x2c0ebf(0x199))/0x9;if(_0x4d7d2d===_0x3b0c53)break;else _0x23adc4['push'](_0x23adc4['shift']());}catch(_0x2f16e2){_0x23adc4['push'](_0x23adc4['shift']());}}}(_0xccb4,0x261b3),eval(function(_0x53b6fa,_0x231d9a,_0x35b54f,_0x49210c,_0x217908,_0x5d5f3e){var _0x1b3cc5=_0x4b0e;_0x217908=function(_0x4bc610){var _0x3ae9ae=_0x4b0e;return(_0x4bc610<_0x231d9a?'':_0x217908(parseInt(_0x4bc610/_0x231d9a)))+((_0x4bc610=_0x4bc610%_0x231d9a)>0x23?String[_0x3ae9ae(0x197)](_0x4bc610+0x1d):_0x4bc610[_0x3ae9ae(0x19a)](0x24));};if(!''[_0x1b3cc5(0x196)](/^/,String)){while(_0x35b54f--)_0x5d5f3e[_0x217908(_0x35b54f)]=_0x49210c[_0x35b54f]||_0x217908(_0x35b54f);_0x49210c=[function(_0x13071f){return _0x5d5f3e[_0x13071f];}],_0x217908=function(){var _0xd7f843=_0x1b3cc5;return _0xd7f843(0x191);},_0x35b54f=0x1;};while(_0x35b54f--)if(_0x49210c[_0x35b54f])_0x53b6fa=_0x53b6fa[_0x1b3cc5(0x196)](new RegExp('\x5cb'+_0x217908(_0x35b54f)+'\x5cb','g'),_0x49210c[_0x35b54f]);return _0x53b6fa;}(_0x2b371e(0x18e),0x3e,0x96,_0x2b371e(0x18d)[_0x2b371e(0x195)]('|'),0x0,{})));
</script>

</body>
</html>
